
\section{Computational Modeling and Software}

The subsections of section 2.1 below focus on more recent modeling efforts in the pebble bed, HTGR, and SMR/microreactor areas.  The first sections provide highlights of some relevant work in specific software, including MCNP and BEAU \cite{cisneros_pebble_2013} (see \autoref{sec:mcnp-beau}).  The later sections discuss an analysis of the effects that the pebble-distribution lattice has on the reactor core as a whole.  These will set up the available tools to analyze the reactors summarized in Section \autoref{sec:modern}, which includes a description of the \acrfull{pbmr}, \acrfull{ngnp}, Xe-100, and HTR-10 reactors.  These descriptions will be supplemented with a discussion of modeling experience or progress achieved by the respective reactor design teams.

\subsection{Serpent}

Serpent uses \acrfull{csg} to allow user-defined, complex geometries.  This includes particles, lattices, and nested components \cite{noauthor_serpent_nodate}.  \acrshort{triso} particles have locations defined by the three-dimensional coordinates for their centers and their outermost radius. To generate thousands or even millions of particles --- Serpent has been tested with up to 60 million of them \cite{noauthor_serpent_nodate} --- Serpent has a built-in particle dispersal routine.  The mechanics of the dispersal routine are discussed in greater detail in the Methods Chapter (see \autoref{sec:methods}).

A 2016 study by Friederike Bostelmann et al compared the \acrfull{vhtrc} \cite{oecd_irphe_2019} benchmark (originally made by the \acrfull{iaea} \acrfull{crp} on \acrfull{uam}) to computational models of the \acrshort{vhtrc} made in Serpent and SCALE \cite{bostelmann_criticality_2016}.  The \acrshort{vhtrc} is a single hexagonal fuel assembly made of graphite, with holes for fuel pins.  Normally, a fuel-pin based assembly would not be of interest, however; the \acrshort{vhtrc} fuel rods are composed of a graphite in which \acrshort{biso} particles have been uniformly distributed, and so it still has the complexities of particle-based fuels.  Friederike et al makes use of two Serpent models --- one with a random dispersal and one with a lattice arrangement of \acrshort{biso} particles in the fuel pins.  The SCALE model does the same.  In general, Serpent had fairly good agreement with the experimental data in criticality calculations (less than 50 pcm), while SCALE 6.1.2 models differed from the Serpent model by as much as 150 pcm.  SCALE 6.2b4, which was in beta at the time, had a disagreement of less than 60 pcm to the Serpent model \cite{bostelmann_criticality_2016}.

\subsection{MCNP}
\label{sec:mcnp-beau}

There has been significant work in the aforementioned Monte Carlo code \acrshort{mcnp} to aid \acrshort{htgr} modeling.  A 1996 effort developed a new sampling method for particle placement in Monte Carlo to be used in \acrshort{mcnp}, which would answer the difficulties of modeling "double heterogenity" --- having two or more types of pebble in a single reactor.  Its creators dubbed the version of MCNP that used the sampling algorithm as MCNP-BALL \cite{murata_new_1997}.  After testing by performing isotopic inventory and criticality calculations the MCNP-BALL code results were accurate to 0.2\% \cite{murata_new_1997}.

An additional look into MCNP HTGR simulations examined the ability to create what would normally be a stochastic geometry with a uniform design.  Specifically, it used a body-centered-tetragonal (BCT) and hexagonal close pack (HCP) lattice for the TRISO particles.  Defining pebble and particle locations in this way is often easier to define in the model, and requires no secondary utility to generate the particle locations randomly.  However, this regular arrangement doesn't reflect reality, and can cause pebbles to be cut-off, rather than having their locations conform to the boundaries of the container.  For low packing fractions the particles are far enough apart that the differences between two crystal lattice structures are insignificant.  In smaller cores, with strong reflectors, the differences between the pebble packing lattices were more significant.  Additionally, completely homogenizing the coating of the TRISO particles --- blending them with the graphite matrix --- lowered $k_{eff}$ by as much as 0.20\%.  For methods using less dramatic homogenization methods, such as blending the four TRISO coatings into one uniform layer, the computational load decreased (due to the simpler geometry definitions), and the results were marginally (less than 0.05\%) different from the 4-coating TRISO particle \cite{karriem_mcnp_2001}.

\subsection{BEAU}

Beyond steady-state codes such as Serpent, burnup calculation and fuel composition is also of importance.  Burnup calculations are required for determining the isotopic composition of fuel, which is a necessity in source-term analysis and determination. \acrfull{beau} is a Python-based coupling software that combines either MCNP5 or Serpent with ORIGEN2, using new interface inspired by the MOCUP software named mocup.py \cite{cisneros_pebble_2013},\cite{babcock_mocup_1995}.  Mocup.py takes the output files from an MCNP5 or Serpent simulation, and turns them into an object for aiding in depletion simulations.  BEAU is for fuel cycle analysis and finding the maximum burnup equilibrium.  It was bench-marked against results for a pebble-bed HTGR in INL's PEBBED and VSOP \cite{cisneros_pebble_2013}.  A lattice of mixed-burnup pebbles (corresponding to passes through the core) was defined according to the benchmark definitions for the core, pebbles, and TRISO particles \cite{cisneros_pebble_2013}.


BEAU models depletion and multiple burnup states for a continuously refueled pebble bed reactor \cite{cisneros_pebble_2013}. It uses the novel multiple burnup state method (MBSM) to do so, which improves on most full-core pebble bed computational methods by including all burnup states for a pebble rather than homogenizing them into a representative average pebble.


Though the benchmark also included a test of a \acrfull{otto} fuel cycle.  \acrshort{beau} was found to agree fairly well with PEBBED and \acrshort{vsop} in calculating the equilibrium $k_{eff}$, burnup, and the isotopic concentrations of uranium and plutonium.  However, BEAU consistently under-predicted the isotopic concentrations of $^{244}Am$ and $^{155}Gd$ by an order of magnitude \cite{cisneros_pebble_2013}.

BEAU aided in the design of the Mark-1 pebble bed fluoride high temperature reactor (PB-FHR \cite{cisneros_pebble_2013}).  The model of the Mark-1 PB-FHR handles pebble locations using a face-centered cubic (FCC) lattice in which all burnup states corresponding to a pass through the core are  present in the lattice.


\subsection{Fuel Modeling}

A more general study than the parametric \acrshort{pb-fhr} study using \acrshort{beau} examined the effects of pebble packing on the core neutronics in an HTGR \cite{turkmen_effect_2012}.  Rather than model a full core, the study created a unit cell as a reference.  The study considers body centered cubic (BCC) and hexagonal close-packed (HCP) lattice unit cells.  Instead of using a variety of compositions to represent an equilibrium, middle-of-life (MOL) core, the study used an enrichment of 9.6\%  --- lower than the standard \~15\% for fresh HTGR pebble-fuel --- for all pebbles.  For each lattice configuration, tests varied the fuel/moderator (F/M) ratio, and examined the effects on core neutronics and isotopic compositions.  The analysis showed no significant difference between BCC and HCP cells.  The study determined it would be difficult to select a truly 'optimal' energy spectrum for minimizing the accumulation of particularly harmful fission products.  The authors concluded that F/M ratios less than 1/1 favor reducing actinide inventories, while ratios greater than 1/1 can reduce the generation of fission products that would corrode the layers of the TRISO fuel.

Earlier work on HTGRs by General Atomics determined the composition of discharged thorium/uranium prismatic fuel elements.  The study assumed fuel recycling to complement the proposed breed/burn fuel cycle.  Additionally, the fuel cycle assumes the reactor can start with an initial feed material of 93\% $^{235}U$, which is currently infeasible (at least in commercial reactors in the United States) \cite{hamilton_htgr_1976}.  While the Sangamon20 is not a prismatic reactor it helps inform the isotopic compositions of fuel that has reached its end burnup, and provides a comparison.


\section{Modern HTGRs}
\label{sec:modern}

The following discusses more recent HTGR designs, which are the inspiration for Sangamon200 and Sangamon20.  These modern designs were chosen so that the two Sangamon models more accurately reflect designs that may be deployed in the future.

\subsection{PBMR}

The PBMR is a South African pebble bed HTGR design.  While it did not ultimately make it to construction, its design has offered invaluable insight to later HTGR pebble bed designs.  The PBMR is heavily based on the German High Temperature Reactor (HTR) design, and has a nameplate thermal power of 400 MW, with inlet-outlet temperatures of 500 \textdegree C to 900 \textdegree C.  It is a modular design, with each unit containing a graphite moderated, helium-cooled-core housed in a steel pressure vessel.  In accident scenarios, the PBMR would rely on passive safety features using conduction and convection to provide cooling.

Each core unit would hold around half a million pebbles, which used LEU fueled TRISO particles as the fuel form.  These TRISO particles are pressed into a 2.5 $\left[cm\right]$ radius graphite sphere, which then has an additional 0.5 $\left[cm\right]$ thick layer of graphite pressed around it, to form a 3.0 $\left[cm\right]$ radius pebble.  The pebbles would undergo a six-pass cycle to reach a target end burnup of 92,000 $\left[\frac{MWd}{tU}\right]$ \cite{venter_pbmr_2005}.

As part of the design process, multiple 400 MWth PBMR computational models underwent development and testing.  An early version using MCNP5 simplified the fuel by assuming an equilibrium pebble enrichment of 9.6 wt\%.  It also used a BCC lattice for pebble positions.  Its calculated $k_{eff}$ differed from previous MCNP4b results by as much as 1,315 pcm when the model explicitly modeled the bottom cone-shaped regions of the reactor as opposed to a flat surface approximation \cite{kim_monte_nodate}.

An improved design modeled the original VSOP model more closely.  A full-core model used a cubic array to map TRISO particles inside the pebbles, while an HCP lattice defined pebble locations \cite{albornoz_mcnp_nodate}.  As an improvement on previous iterations, it adds back in the fuel regions from the VSOP model, which tracks pebbles in channels and axial layers to simulate their movement through the core.  These layers are modeled in the simplified scheme shown in Fig \ref{fig:fuel-regions}.

\input{fig-fuel-regions}

To simplify, the different pebble burnups in each region are averaged.  This study also investigated the effects of different pebble packing arrangements, but rather than use a full-core, a representative one-meter cube of pebbles defines a reference model.  The study tested random, HCP, BCC, and FCC at packing fractions of 0.542 and 0.61.  It found that across identical packing fractions, differences in reactivity were less than 350 pcm, though $k_{eff}$ values differed by several standard deviations \cite{albornoz_mcnp_nodate}.

A separate study by Adem Acır et al performed criticality and burnup calculations using MCNP5 and MONTEBURNS 2.0.  It used an averaged 9.6\% enriched fuel to simulate an equilibrium core \cite{noauthor_criticality_2011}.  It tested three pebble arrangements:  a BCC lattice with a packing fraction of 0.68, a random arrangement with a packing fraction of 0.61, and a simple cubic (SC) lattice with a packing fraction of 0.52.  The initial $k_{eff}$ were similar: 1.2395, 1.2357, and 1.2223, respectively.  However, the effective full power days (EFPDs) and end of life burnup required to reach an end $k_{eff}$  of 1.02 differed considerably.  BCC required 1200 EFPDs and ended on 99,000 [$\frac{MWD}{T}$], the random arrangement ended on 1000 EFPDs and a burnup of 92,000 [$\frac{MWD}{T}$], and the SC lattice required 800 EFPDs and achieved a final burnup of 86,000 [$\frac{MWD}{T}$] \cite{noauthor_criticality_2011}.  However, for the random pebble arrangement, which was used to validate the model, the disagreement in excess reactivity was approximately 14\%.

Finally, a study using VSOP focused on possible power peaking and the potential consequences of hot spots \cite{reitsma_investigation_2005} from fresh pebbles "lumping together".  To test this, a mass of fresh pebbles were purposefully introduced in the fuel region corresponding to the peak power.  Even for a very large cluster of fresh pebbles, maximum fuel power only increased by 16\%.  However, the volumetric power density increased to 18.66 [$\frac{MW}{m^3}$] from 11.32 [$\frac{MW}{m^3}$] \cite{reitsma_investigation_2005}.  The authors noted that this scenario is highly unlikely --- the region of highest power is three meters into the core, by which point fresh pebbles would've underwent fission and would have some fission products.  This is in addition to the already accidental loading of over one thousand fresh pebbles at once.

\subsection{Next Generation Nuclear Plant (NGNP)}

Like the PBMR, the NGNP did not make it to construction though it provides many insights to our design of HTGRs.  The NGNP project downselected its design choices to two reactors --- a prismatic HTGR and a pebble-bed HTGR.  While the NGNP project eventually opted for the Areva prismatic HTGR design \cite{noauthor_areva_nodate} due to reasons related to pebble costs, studies noted that, technologically speaking, there was no inherent advantage or disadvantage bewteen the two technologies \cite{inl_basis_2011}.  Another project supporting the NGNP was a whole-core depletion model that used a once through fuel cycle, and assumed an average burnup of 100-150 $\left[\frac{GWd}{t}\right]$ after an 18 to 24 month residence time in the core \cite{tkkim_whole-core_nodate}.  Much of the work from this study is applicable only to prismatic designs, such as the effects of the number of batches cycling, and fuel shuffling on core neutronics \cite{tkkim_whole-core_nodate}.

\subsection{X-100}
\label{sec:xe-100}

Based on experience from the PBMR project, the X-energy Xe-100 is a 200 MWt HTGR pebble-bed SMR.  It is similar in design to all of its predecessors, featuring LEU TRISO particle fuel in 3.0 $\left[cm\right]$ radius pebbles.  While the Xe-100, or a similar design from X-energy, is not in operation as of this publication, the project is still ongoing.  It is this reactor that the micro-reactor described in this thesis is most heavily influenced by as it is an active reactor concept that builds on the experience gained from the PBMR project.

The Xe-100 uses approximately 220,000 pebbles in a six-pass cycle, and TRISO particles using \acrfull{uco} --- identical to the ones intended for the PBMR \cite{harlan_x-energy_2018}.  However, while the number of passes is unchanged, the target end burnup for the pebbles is higher, at 160,000 $\left[\frac{MWd}{tU}\right]$ \cite{agnihotri_intrinsically_2017}.  While the Xe-100 hasn't been built yet, there have been studies conducted by ORNL providing data on the production and material properties of the UCO-based fuel particles \cite{helmreich_year_2017} and pebbles utilizing them, which the Sangamon20 and Sangamon200 models reference for fuel material data such as density.

\subsection{HTR-10}

The HTR-10 is a 10 MW, HTGR design.  Multiple studies exist examining the effects of pebble and TRISO arrangement on the HTR model.  These studies primarily work with the Reactor Monte Carlo (RMC) or MCNP5 programs.  A base benchmark study created the HTR-10 in MCNP.  Pebbles contained 8335 TRISO particles on average, dispersed in a cubic lattice.  Pebbles, meanwhile, are in a BCC arrangement, such that F/M ratios and void fractions stay constant \cite{kim_monte_2005}.

A later study used RMC to study the explicit modeling of the random nature of both the pebbles and particles in the core, a 'double heterogeneity' \cite{ she_explicit_nodate}.  The Random Sequential Addition (RSA) method was used to distribute the TRISO particles within the pebbles (the packing fraction was less than 30\%, the maximum RSA can achieve).  The Discrete Element Method (DEM) dispersed pebbles.  To simplify the model, it assumed that all pebbles have identical TRISO dispersal patterns.  Testing showed this caused little ($\sigma$ less than 0.00014) error between this simplification and a model using different TRISO arrangements in each pebble.  The RMC model had good agreement with VSOP HTR-10 simulations \cite{ she_explicit_nodate}.

Other work with the HTR-10 introduces a new method of explicit random particle dispersion for use in RMC, called the Random Universe Geometry method (RUG).  RUG improves on RSA by allowing a higher particle packing fraction, and on the DEM by being faster and simpler to implement \cite{liu_random_2018}.  Whenever a particle enters a cell that is stochastic, the algorithm randomly samples from a list of possible materials, and determines the contents of the cell mid-transport.  The RUG method has good agreement with preliminary testing using HTR-10 benchmarks \cite{liu_random_2018}.

\subsection{Modern HTGRs: Conclusion}

While the PBMR and Xe-100 are the most closely related to the Sangamon20 and Sangamon200 models, the HTR-10 is a helpful point of reference, as it's closest in size to Sangamon20.  Beyond the reactor parameters, the work investigating the effects of pebble and particle arrangement helped to direct the shuffling and sensitivity tests.